var T=(g,c,a)=>new Promise((m,p)=>{var _=l=>{try{r(a.next(l))}catch(u){p(u)}},t=l=>{try{r(a.throw(l))}catch(u){p(u)}},r=l=>l.done?m(l.value):Promise.resolve(l.value).then(_,t);r((a=a.apply(g,c)).next())});import{d as V,a as f,x as I,m as C,o as h,g as v,j as e,k as s,s as H,u as j,r as q,y as S,Z as K,_ as O,e as U,f as z,w as d,h as o,C as F,$ as Z,i as b,t as $,B as J}from"./index.27a20cdf.js";import{_ as Q,u as W}from"./table.b14e82ad.js";import"./index.65159add.js";import"./el-input.172ae120.js";import{_ as X}from"./index.5a6dfef3.js";/* empty css                  */import{g as Y,a as ee}from"./index.c0cc39f1.js";import{u as te,i as ae,a as oe,b as se,c as ne,d as le,e as re,f as ie,H as M}from"./index.esm.min.5b0d4180.js";import{_ as N}from"./plugin-vue_export-helper.db4a78ed.js";import{s as de}from"./search.9b6f4499.js";import{r as ce}from"./refresh.14f62c5c.js";const pe={key:0},ue=V({__name:"tumorRank",setup(g){te([ae,oe,se,ne,le,re,ie]);const c=f([]),a=f([]);I(()=>T(this,null,function*(){const t=yield Y();c.value=t.gmtd.sort((r,l)=>r.score-l.score),a.value=t.gmtp.sort((r,l)=>r.score-l.score)}));const m=f(!0),p=f({});C(c,()=>{m.value=!1,p.value={title:{text:"GMTD Score",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",show:!1},xAxis:{type:"value",position:"top",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:c.value.map(t=>t.short_name)},series:[{name:"GMTD score",type:"bar",stack:"Total",data:c.value.map(t=>({value:t.score,name:t.short_name}))}]}});const _=f({});return C(a,()=>{_.value={title:{text:"GMTP Score",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left",show:!1},xAxis:{type:"value",position:"top",splitLine:{lineStyle:{type:"dashed"}}},yAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},splitLine:{show:!1},data:a.value.map(t=>t.short_name)},series:[{name:"Tumor Rank",type:"bar",stack:"Total",data:a.value.map(t=>({value:t.score,name:t.case}))}]}}),(t,r)=>(h(),v("div",null,[e(m)?H("",!0):(h(),v("div",pe,[s(e(M),{class:"chart",option:e(p)},null,8,["option"]),s(e(M),{class:"chartShort",option:e(_)},null,8,["option"])]))]))}});var me=N(ue,[["__scopeId","data-v-4b507f12"]]);const _e={class:"phenotypes-page px-10 mx-auto md:w-screen-md lg:w-screen-lg xl:w-screen-xl"},fe={class:"content"},he=["id"],xe=["id"],ve={style:{padding:"2%","background-color":"#faf5ff"}},ge={class:"search-wrapper"},ke={key:0},ye=["id"],be={class:"figure-container"},we={class:"figure-component"},Te=V({__name:"index",setup(g){const c=j(),{path:a}=c.currentRoute.value,m=x=>{x.preventDefault()},p=x=>{window.open("https://meshb.nlm.nih.gov/record/ui?ui="+x)},_=[{label:"Phenotype",prop:"short_name",width:"140px",fixed:"left"},{label:"Full name",prop:"phenotype_name",width:"240px"},{label:"Mesh ID",slotName:"mesh",prop:"mesh_id",width:"160px"},{label:"Nr. of projects",prop:"project_count",width:"160px"},{label:"Nr. of runs",prop:"run_count",width:"160px"},{label:"Nr. of markers",prop:"marker_count",width:"160px"},{label:"",slotName:"link",sortable:!1,prop:"mesh_id",width:"160px",fixed:"right"}],t=q({data:[],total:0,page:1,limit:10,keywords:"",totalData:[],except:!1}),r=f([]),l={short_name:0,phenotype_name:1,mesh_id:2,project_count:3,run_count:4,marker_count:5},{searchTable:u,refreshSearch:D,changePage:E,handleSortChange:G}=W(r,t,null,l);return ee(r,u),(x,n)=>{const k=S("a-anchor-link"),P=S("a-anchor"),A=K,L=O,y=U,w=X,R=z,B=Q;return h(),v("div",_e,[s(P,{class:"catalogue",onClick:m,"target-offset":80},{default:d(()=>[s(k,{href:"#"+e(a)+"#marker-taxa",title:"Marker taxa"},{default:d(()=>[s(k,{href:"#"+e(a)+"#phenotype-table",title:"Pheonotype table"},null,8,["href"])]),_:1},8,["href"]),s(k,{href:"#"+e(a)+"#tumor-rank",title:"Tumor rank"},null,8,["href"])]),_:1}),o("div",fe,[o("h2",{id:`${e(a)}#marker-taxa`},"Marker taxa",8,he),n[5]||(n[5]=F('<dl class="info" data-v-4522a456><dd data-v-4522a456> &quot;Marker taxa&quot; refer to taxa (at genus and species levels) that show sigificant differences in relative abundances between health and diseases. </dd><dd data-v-4522a456> So far, HGMT identified <span class="text-red-800 font-bold italic" data-v-4522a456>1,106</span> marker taxa, including: <dl data-v-4522a456><dd data-v-4522a456><span class="text-red-800 font-bold italic" data-v-4522a456>369</span> genus and </dd><dd data-v-4522a456><span class="text-red-800 font-bold italic" data-v-4522a456>737</span> species.</dd></dl></dd><br data-v-4522a456><span class="font-bold" data-v-4522a456>Note:</span><br data-v-4522a456> Click on the <span class="text-red-800 font-bold italic" data-v-4522a456>&quot;View details&quot;</span> button to the &#39;marker taxa&#39; page of a certain tumor within the &#39;Explore&#39; module for cross-dataset disease marker comparison. </dl>',1)),o("h3",{id:`${e(a)}#phenotype-table`},"Phenotype table",8,xe),o("div",ve,[o("div",ge,[s(A,{modelValue:e(t).except,"onUpdate:modelValue":n[0]||(n[0]=i=>e(t).except=i),label:"Except for...",class:"pl-10px !mr-10px"},null,8,["modelValue"]),s(L,{placeholder:"Search term",modelValue:e(t).keywords,"onUpdate:modelValue":n[1]||(n[1]=i=>e(t).keywords=i),onKeydown:Z(e(u),["enter"])},null,8,["modelValue","onKeydown"]),s(y,{type:"primary",icon:e(de),class:"ml-10px",onClick:e(u)},{default:d(()=>n[2]||(n[2]=[b("Search")])),_:1},8,["icon","onClick"]),s(y,{icon:e(ce),round:"",onClick:e(D)},null,8,["icon","onClick"])]),s(B,{onPaginationChange:e(E),"table-data":e(t).data,"table-head":_,total:e(t).total,loading:!1,"default-sort":{prop:"run_count",order:"descending"},"header-cell-style":{background:"#faf5ff !important"},"cell-style":{background:"#faf5ff"},onSortChange:e(G)},{mesh:d(({row:i})=>[i[2]===0?(h(),v("span",ke,$(i.term),1)):(h(),J(w,{key:1,isExternal:"",to:"_blank",onClick:Ce=>p(i.mesh_id)},{default:d(()=>[b($(i.mesh_id),1)]),_:2},1032,["onClick"]))]),link:d(({row:i})=>[s(R,{content:"view marker taxa in HGMT",effect:"dark",placement:"top"},{default:d(()=>[s(y,{type:"primary",size:"small",style:{float:"right"}},{default:d(()=>[s(w,{to:`/explore/${i.mesh_id}`,showIcon:!1},{default:d(()=>n[3]||(n[3]=[o("span",{class:"text-teal-100"},"View details",-1),b(" \xA0")])),_:2},1032,["to"]),n[4]||(n[4]=o("i",{class:"iconfont icon-link white"},null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["onPaginationChange","table-data","total","onSortChange"])]),o("h2",{id:`${e(a)}#tumor-rank`},"Tumor rank",8,ye),n[6]||(n[6]=o("dl",{class:"info"},[o("span",{class:"font-bold"},"Note:"),o("dd",null," HGMT defines scores to evaluate the ability of gut microbiota for tumor diagnosis (GMTD: tumor vs. health) and tumor prognosis (GMTP: responder vs. non-responder). "),o("dd",null," Scores are weighted by between-group differences in terms of alpha-diversity and beta-diversity, the number of differential abundance taxa, and accuracy of the binary classifier. "),o("br")],-1)),o("div",be,[o("div",we,[s(me)])])])])}}});var Be=N(Te,[["__scopeId","data-v-4522a456"]]);export{Be as default};
