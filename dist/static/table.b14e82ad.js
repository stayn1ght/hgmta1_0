import"./index.65159add.js";/* empty css                  */import"./el-input.172ae120.js";import{_ as D}from"./plugin-vue_export-helper.db4a78ed.js";import{r as P,m as z,o as d,B as y,G as b,H as B,a as S,x as N,g as h,I as T,w as m,s as k,J as x,K as E,L as H,F as C,q as O,M as A,N as v,t as L,k as $,O as q,z as j,A as I,P as R}from"./index.27a20cdf.js";const V={__name:"index",props:{queryData:{type:Object,default:()=>({pageSize:10,currentPage:1})},total:{type:Number,default:()=>0}},emits:["pagination"],setup(o,{emit:t}){const{proxy:g}=b(),r=P({currentPage:g.queryData.currentPage,pageSize:g.queryData.pageSize}),c=t;return z(r,u=>{c("pagination",u)}),(u,i)=>{const s=B;return d(),y(s,{"current-page":r.currentPage,"onUpdate:currentPage":i[0]||(i[0]=p=>r.currentPage=p),"page-size":r.pageSize,"onUpdate:pageSize":i[1]||(i[1]=p=>r.pageSize=p),background:"",layout:"prev, pager, next, jumper, sizes",total:o.total,"hide-on-single-page":"","default-page-size":10,"pager-sizes":[10,25,50,100]},null,8,["current-page","page-size","total"])}}};var J=D(V,[["__scopeId","data-v-5c5e26f6"]]);const M={key:1},W={__name:"index",props:{tableData:{type:Array,default:()=>[]},tableHead:{type:Array,default:()=>[]},tableHeight:{type:String,default:()=>"100%"},formSelect:{type:Object,default(){return{skip:0,limit:10}}},total:{type:Number,default:()=>0},loading:{type:Boolean,default:()=>!1},operation:{type:Array,default:()=>[]},selection:{type:Boolean,default:()=>!1},expand:{type:Boolean,default:()=>!1},index:{type:Boolean,default:()=>!1},radio:{type:Boolean,default:()=>!1},setting:{type:Boolean,default:()=>!1},selectAll:{type:Boolean,default:()=>!1},tableRowClassName:{type:Function,default:()=>null},isHighlight:{type:Boolean,default:()=>!1},pagiClass:{type:String,default:""}},emits:["handleView","handleEdit","handleDelete","handleSelectionChange","onSelectAll","paginationChange"],setup(o,{expose:t,emit:g}){const r=g,c=s=>r("paginationChange",s),u=S(null),i=S(null);return N(()=>{i.value=u.value.toggleRowExpansion}),t({toggleRowExpansion:i}),(s,p)=>{const _=j,a=I,f=R;return d(),h(C,null,[T((d(),y(a,v({class:"base-table"},s.$attrs,{data:o.tableData,ref_key:"table",ref:u,border:""}),{default:m(()=>[o.selection?(d(),y(_,{key:0,type:"selection",width:"60"})):k("",!0),o.expand?(d(),y(_,{key:1,type:"expand"},{default:m(e=>[x(s.$slots,"expand",E(H(e)))]),_:3})):k("",!0),(d(!0),h(C,null,O(o.tableHead,e=>{var n,l;return d(),y(_,{key:e.prop,prop:e.prop,label:e.label,width:e.width,sortable:(n=e.sortable)!=null?n:!0,"sort-orders":e.sortOrders,"show-overflow-tooltip":(l=e.tooltip)!=null?l:!1,fixed:e.fixed},A({default:m(w=>[e.slotName?x(s.$slots,e.slotName,v({key:0,ref_for:!0},w)):(d(),h("span",M,L(w.row[e.prop]),1))]),_:2},[e.customHeader?{name:"header",fn:m(()=>[x(s.$slots,e.prop+"Header",v({ref_for:!0},e))]),key:"0"}:void 0]),1032,["prop","label","width","sortable","sort-orders","show-overflow-tooltip","fixed"])}),128))]),_:3},16,["data"])),[[f,o.loading]]),$(J,{total:o.total,class:q(o.pagiClass),onPagination:c},null,8,["total","class"])],64)}}},X=(o,t,g,r,c)=>{const u=()=>{var a,f;if(g&&(g.value=[]),c)for(let e in c)c[e]="";t.page=1,t.totalData=(a=o.value)==null?void 0:a.filter(e=>{const n=t.keywords.toLowerCase(),l=JSON.stringify(e).toLowerCase();return t.except?l.indexOf(n)===-1:l.indexOf(n)!==-1}),t.total=((f=t.totalData)==null?void 0:f.length)||0,p()},i=()=>{t.keywords="",t.except=!1,u()},s=a=>{t.page=a.currentPage,t.limit=a.pageSize,p()},p=()=>{var a;t.data=(a=t.totalData)==null?void 0:a.slice((t.page-1)*t.limit,t.page*t.limit)};return{searchTable:u,refreshSearch:i,changePage:s,getTableData:p,handleSortChange:({prop:a,order:f})=>{let e=a;r&&(e=r[a]),typeof t.totalData[0][e]=="number"?t.totalData.sort((n,l)=>f==="descending"?l[e]-n[e]:n[e]-l[e]):typeof t.totalData[0][e]=="string"&&t.totalData.sort((n,l)=>f==="descending"?l[e]>n[e]?1:-1:n[e]>l[e]?1:-1),p()}}};export{W as _,X as u};
